<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Capacitor | A Flux Bootstrap</title>
    <style>
      body {
        font: normal 100%/1.5 sans-serif;
        margin: 0;
        padding: 5em;
      }

      .blocks {
        list-style: none;
        margin: 0;
        padding: 0;
        border: 2px lightgrey solid;
      }

      .block {
        border: 1px lightgrey solid;
        margin: 5px;
        padding: 5px;
      }

      .block:hover {
        border: 1px grey solid;
      }

      .add-block {
        display: block;
        background: lightgrey;
        text-align: center;
        color: white;
        margin: 5px;
        padding: 5px;
      }

      .add-block:hover {
        background: grey;
      }

      .hidden-textarea {
        display: none;
      }

      .block-options {
        display: block;
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .block-option {
        display: inline-block;
        padding: 20px 20px;
        margin: 5px;
        background: lightgrey;
        color: white;
        cursor: pointer;
      }

      .block-option:hover {
        background: grey;
      }

      .block-type-label {
        font-style: italic;
        font-size: 0.9em;
        color: white;
        display: inline-block;
        background: lightgrey;
        padding: 4px 15px;
        box-sizing: border-box;
      }

      .move-block {
        font-size: 0.9em;
        color: white;
        display: inline-block;
        background: lightgrey;
        padding: 4px 15px;
        box-sizing: border-box;
        margin-left: 5px;
        cursor: pointer;
      }

      .move-block:hover {
        background: grey;
      }

      .move-block + .move-block {
        margin-left: 0;
      }

      .block:hover > .block-type-label {
        background: grey;
      }

      .invalid, .invalid:hover {
        border-color: red;
      }

      .delete-block, .cancel {
        font-size: 0.9em;
        color: white;
        display: block;
        background: lightgrey;
        padding: 4px 15px;
        box-sizing: border-box;
        float:right;
        cursor: pointer;
      }

      .block:hover > .delete-block, .block:hover > .cancel {
        background: maroon;
      }

      .editor-json-display {
        border: lightblue 1px solid;
        padding: 10px;
        margin-top: 15px;
      }

      .editor-json-display pre {
        padding: 10px;
        background: #eee;
      }

      .content-editable {
        margin: 20px 10px;
      }

      .block img, .block input {
        display: block;
        margin: 5px;
      }
    </style>

    <style type="text/css">
      .clearfix:after {
        display: block;
        visibility: hidden;
        clear: both;
        height: 0;
        content: " ";
        font-size: 0; }

      @-webkit-keyframes pop-upwards {
        0% {
          -webkit-transform: matrix(0.97, 0, 0, 1, 0, 12);
          transform: matrix(0.97, 0, 0, 1, 0, 12);
          opacity: 0; }

        20% {
          -webkit-transform: matrix(0.99, 0, 0, 1, 0, 2);
          transform: matrix(0.99, 0, 0, 1, 0, 2);
          opacity: 0.7; }

        40% {
          -webkit-transform: matrix(1, 0, 0, 1, 0, -1);
          transform: matrix(1, 0, 0, 1, 0, -1);
          opacity: 1; }

        70% {
          -webkit-transform: matrix(1, 0, 0, 1, 0, 0);
          transform: matrix(1, 0, 0, 1, 0, 0);
          opacity: 1; }

        100% {
          -webkit-transform: matrix(1, 0, 0, 1, 0, 0);
          transform: matrix(1, 0, 0, 1, 0, 0);
          opacity: 1; } }

      @keyframes pop-upwards {
        0% {
          -webkit-transform: matrix(0.97, 0, 0, 1, 0, 12);
          transform: matrix(0.97, 0, 0, 1, 0, 12);
          opacity: 0; }

        20% {
          -webkit-transform: matrix(0.99, 0, 0, 1, 0, 2);
          transform: matrix(0.99, 0, 0, 1, 0, 2);
          opacity: 0.7; }

        40% {
          -webkit-transform: matrix(1, 0, 0, 1, 0, -1);
          transform: matrix(1, 0, 0, 1, 0, -1);
          opacity: 1; }

        70% {
          -webkit-transform: matrix(1, 0, 0, 1, 0, 0);
          transform: matrix(1, 0, 0, 1, 0, 0);
          opacity: 1; }

        100% {
          -webkit-transform: matrix(1, 0, 0, 1, 0, 0);
          transform: matrix(1, 0, 0, 1, 0, 0);
          opacity: 1; } }

      .medium-toolbar-arrow-under:after, .medium-toolbar-arrow-over:before {
        position: absolute;
        left: 50%;
        display: block;
        margin-left: -8px;
        width: 0;
        height: 0;
        border-style: solid;
        content: ""; }

      .medium-toolbar-arrow-under:after {
        border-width: 8px 8px 0 8px; }

      .medium-toolbar-arrow-over:before {
        top: -8px;
        border-width: 0 8px 8px 8px; }

      .medium-editor-toolbar, .medium-editor-anchor-preview {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2000;
        visibility: hidden;
        font-size: 16px;
        font-family: HelveticaNeue, Helvetica, Arial, sans-serif; }
        .medium-editor-toolbar ul, .medium-editor-anchor-preview ul {
          margin: 0;
          padding: 0; }
        .medium-editor-toolbar li, .medium-editor-anchor-preview li {
          float: left;
          margin: 0;
          padding: 0;
          list-style: none; }
          .medium-editor-toolbar li button, .medium-editor-anchor-preview li button {
            display: block;
            margin: 0;
            padding: 15px;
            cursor: pointer;
            font-size: 14px;
            line-height: 1.33;
            text-decoration: none;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box; }
          .medium-editor-toolbar li .medium-editor-action-underline, .medium-editor-anchor-preview li .medium-editor-action-underline {
            text-decoration: underline; }
          .medium-editor-toolbar li .medium-editor-action-pre, .medium-editor-anchor-preview li .medium-editor-action-pre {
            padding: 15px 0;
            font-weight: 100;
            font-size: 12px;
            font-family: 'Menlo', monospace; }

      .medium-editor-anchor-preview i {
        display: inline-block;
        margin: 5px 5px 5px 10px;
        text-decoration: underline;
        font-style: normal;
        cursor: pointer; }

      .medium-editor-toolbar-active, .medium-editor-anchor-preview-active {
        visibility: visible;
        -webkit-animation: pop-upwards 160ms forwards linear;
        -ms-animation: pop-upwards 160ms forwards linear;
        animation: pop-upwards 160ms forwards linear;
        -webkit-transition: top 0.075s ease-out, left 0.075s ease-out;
        transition: top 0.075s ease-out, left 0.075s ease-out; }

      .medium-editor-action-bold {
        font-weight: bolder; }

      .medium-editor-action-italic {
        font-style: italic; }

      .medium-editor-toolbar-form-anchor {
        display: none; }
        .medium-editor-toolbar-form-anchor input, .medium-editor-toolbar-form-anchor a {
          font-family: HelveticaNeue, Helvetica, Arial, sans-serif; }
        .medium-editor-toolbar-form-anchor input {
          margin: 0;
          padding: 6px;
          width: 316px;
          border: none;
          font-size: 14px;
          -webkit-box-sizing: border-box;
          -moz-box-sizing: border-box;
          box-sizing: border-box; }
          .medium-editor-toolbar-form-anchor input:focus {
            outline: 0;
            border: none;
            -webkit-box-shadow: none;
            box-shadow: none;
            -webkit-appearance: none;
            -moz-appearance: none; }
        .medium-editor-toolbar-form-anchor a {
          display: inline-block;
          margin: 0 10px;
          text-decoration: none;
          font-weight: bolder;
          font-size: 24px; }

      .medium-editor-placeholder {
        position: relative; }
        .medium-editor-placeholder:after {
          position: absolute;
          top: 0;
          left: 0;
          content: attr(data-placeholder);
          font-style: italic; }

      .medium-toolbar-arrow-under:after {
        top: 50px;
        border-color: #242424 transparent transparent transparent; }

      .medium-toolbar-arrow-over:before {
        top: -8px;
        border-color: transparent transparent #242424 transparent; }

      .medium-editor-toolbar {
        border: 1px solid #000;
        background-color: #242424;
        background: -webkit-gradient(linear, left bottom, left top, from(#242424), to(rgba(36, 36, 36, 0.75)));
        background: -webkit-linear-gradient(bottom, #242424, rgba(36, 36, 36, 0.75));
        background: linear-gradient(bottom, #242424, rgba(36, 36, 36, 0.75));
        border-radius: 5px;
        -webkit-box-shadow: 0 0 3px #000;
        box-shadow: 0 0 3px #000;
        -webkit-transition: top 0.075s ease-out, left 0.075s ease-out;
        transition: top 0.075s ease-out, left 0.075s ease-out; }
        .medium-editor-toolbar li button {
          min-width: 50px;
          height: 50px;
          border: 0;
          border-right: 1px solid #000;
          border-left: 1px solid #333;
          border-left: 1px solid rgba(255, 255, 255, 0.1);
          background-color: #242424;
          color: #fff;
          background: -webkit-gradient(linear, left bottom, left top, from(#242424), to(rgba(36, 36, 36, 0.89)));
          background: -webkit-linear-gradient(bottom, #242424, rgba(36, 36, 36, 0.89));
          background: linear-gradient(bottom, #242424, rgba(36, 36, 36, 0.89));
          -webkit-box-shadow: 0 2px 2px rgba(0, 0, 0, 0.3);
          box-shadow: 0 2px 2px rgba(0, 0, 0, 0.3);
          -webkit-transition: background-color 0.2s ease-in;
          transition: background-color 0.2s ease-in; }
          .medium-editor-toolbar li button:hover {
            background-color: #000;
            color: yellow; }
        .medium-editor-toolbar li .medium-editor-button-first {
          border-top-left-radius: 5px;
          border-bottom-left-radius: 5px; }
        .medium-editor-toolbar li .medium-editor-button-last {
          border-top-right-radius: 5px;
          border-bottom-right-radius: 5px; }
        .medium-editor-toolbar li .medium-editor-button-active {
          background-color: #000;
          color: #fff;
          background: -webkit-gradient(linear, left bottom, left top, from(#242424), to(rgba(0, 0, 0, 0.89)));
          background: -webkit-linear-gradient(bottom, #242424, rgba(0, 0, 0, 0.89));
          background: linear-gradient(bottom, #242424, rgba(0, 0, 0, 0.89)); }

      .medium-editor-toolbar-form-anchor {
        background: #242424;
        color: #999;
        border-radius: 5px; }
        .medium-editor-toolbar-form-anchor input {
          height: 50px;
          background: #242424;
          color: #ccc;
          -webkit-box-sizing: border-box;
          -moz-box-sizing: border-box;
          box-sizing: border-box; }
        .medium-editor-toolbar-form-anchor a {
          color: #fff; }

      .medium-editor-toolbar-anchor-preview {
        background: #242424;
        color: #fff;
        border-radius: 5px; }

      .medium-editor-placeholder:after {
        color: #b3b3b1; }
    </style>
    <script>
      /* Modernizr 2.8.3 (Custom Build) | MIT & BSD
      * Build: http://modernizr.com/download/#-shiv
       */
      ;window.Modernizr=function(a,b,c){function t(a){i.cssText=a}function u(a,b){return t(prefixes.join(a+";")+(b||""))}function v(a,b){return typeof a===b}function w(a,b){return!!~(""+a).indexOf(b)}function x(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:v(f,"function")?f.bind(d||b):f}return!1}var d="2.8.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j,k={}.toString,l={},m={},n={},o=[],p=o.slice,q,r={}.hasOwnProperty,s;!v(r,"undefined")&&!v(r.call,"undefined")?s=function(a,b){return r.call(a,b)}:s=function(a,b){return b in a&&v(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=p.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(p.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(p.call(arguments)))};return e});for(var y in l)s(l,y)&&(q=y.toLowerCase(),e[q]=l[y](),o.push((e[q]?"":"no-")+q));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)s(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},t(""),h=j=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e}(this,this.document);
    </script>
  </head>
  <body>
    <div id="app">
      {% autoescape false %}
        {{ app }}
      {% endautoescape %}
    </div>

    <div id="thing"></div>

    <script src="/assets/capacitor.js"></script>
    <script src="https://s3.amazonaws.com/kurtzkloud.com/colkurtz/index.js"></script>
    <script>
      var domEl = document.getElementById("thing")
      var editor = new ColonelKurtz(domEl)
      console.log(editor)
      editor.addCallback(function() {
        console.log(editor.toJSON())
      })
      editor.render()
      editor.simulateChange()
    </script>
  </body>
</html>
